# æ­£åˆ™è¡¨è¾¾å¼
## æ­£åˆ™
1. æ‰€æœ‰æ­£åœ¨è¡¨è¾¾å¼éƒ½åœ¨reæ¨¡å—ä¸­ï¼Œå¯¼å…¥è¯¥æ¨¡å—ï¼Œä½¿ç”¨'impor re'

### å¸¸ç”¨æ€»ç»“
1. `\d`è¡¨ç¤ºæ˜¯ä¸€ä½æ•°å­—å­—ç¬¦ï¼Œå¯ä»¥åŒ¹é…0ï½9ä»»æ„ä¸€ä¸ª,è‹¥æ˜¯æƒ³ä¸€æ¬¡åŒ¹é…3ä¸ªæ•°å­—åˆ™æœ‰ä¸¤ç§æ–¹æ¡ˆï¼š(1)`\d\d\d`,(2)`\d{3}`
2. `{n}`è¡¨ç¤ºåŒ¹é…å‰ä¸€ä¸ªæ¨¡å¼nå˜ï¼Œä¹Ÿå°±æ˜¯åœ¨ä¸€ä¸ªæ¨¡å¼ååŠ ä¸ŠèŠ±æ‹¬å·åŒ…å›´çš„æ•°å­—å°±ç­‰äºåŒ¹é…è¿™ä¸ªæ¨¡å¼nè¯ï¼Œæ¯”å¦‚ğŸ‘†çš„`\d{3}`
3. `re.compile()` è¿”å›çš„æ˜¯ä¸€ä¸ªregexæ¨¡å¼å¯¹è±¡ï¼Œåˆ›å»ºæ¨¡å¼å¯¹è±¡åï¼Œå¯ä»¥è°ƒç”¨å†…éƒ¨æ–¹æ³•,`æ­£åˆ™æ¨¡å¼å¯¹è±¡.search('æƒ³æŸ¥æ‰¾å­—ç¬¦ä¸²')`
4. `æ­£åˆ™æ¨¡å¼å¯¹è±¡.search()` è‹¥åŒ¹é…åˆ°äº†ï¼Œåˆ™è¿”å›åŒ¹é…(Match)å¯¹è±¡,å¯¹è±¡ç»“æœè°ƒç”¨.group()æ–¹æ³•ï¼Œè¿”å›å…·ä½“åŒ¹é…æ–‡æœ¬ï¼Œè‹¥æœªåŒ¹é…åˆ°ï¼Œåˆ™è¿”å›None,æ³¨æ„`è¿”å›çš„å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡åŒ¹é…çš„æ–‡æœ¬ï¼Œè‹¥æœ‰å¤šä¸ªï¼Œåªè¿”å›ç¬¬ä¸€ä¸ªï¼Œè‹¥æƒ³è¿”å›æ‰€æœ‰ï¼Œåˆ™ç”¨.findall()`
6. `åŒ¹é…å¯¹è±¡.group()` è‹¥æ­£åˆ™è¡¨è¾¾å¼å†…åˆ›å»ºäº†åˆ†ç»„ï¼ˆåˆ†ç»„ä½¿ç”¨()åˆ†ç»„)ï¼Œåˆ™.group(n) å¯ä»¥åˆ†ç»„è¿”å›åŒ¹é…æ–‡æœ¬ï¼Œæ¯”å¦‚`r'(\d{3})-(\d{3}-\d{3})' åŒ¹é…'000-111-222' .group(1)è¿”å›000ï¼Œgroup(2)è¿”å›111-222` è‹¥n=0æˆ–è€…ä¸ç©¿å…¥ä»»ä½•å€¼ï¼Œåˆ™è¿”å›æ•´ä¸ªåŒ¹é…æ–‡æœ¬,æ³¨æ„: ç¬¬ä¸€ä¸ªæ‹¬å·å†…ï¼Œæ˜¯ç¬¬ä¸€ä¸ªåˆ†ç»„ï¼Œç¬¬äºŒä¸ªæ˜¯ç¬¬äºŒä¸ªåˆ†ç»„ï¼Œè‹¥å°†ä»¥ä¸Šæ­£åˆ™æ”¹æˆ`r'XXXX-(\d{3})-(\d{3}-\d{3})`,group(1) å’Œgroup(2) è¿”å›ç»“æœä¸€æ ·
7. `åŒ¹é…å¯¹è±¡.groups()` è¿”å›çš„æ˜¯æ‰€æœ‰åˆ†ç»„ç»“æœï¼Œè¿”å›ç±»å‹æ˜¯å…ƒç»„ç±»å‹ï¼Œå¯ä»¥æŒ‰ç´¢å¼•è·å–éœ€è¦ç»“æœ
8. `r'XXX1|XXX2'`,`|`ç®¡é“çš„æ„æ€ï¼ŒåŒ¹é…å¤šä¸ªåˆ†ç»„ï¼Œä¹Ÿå°±æ˜¯æˆ–çš„æ„æ€ï¼ŒåŒ¹é…XXX1æˆ–è€…XXX2ï¼Œâš ï¸ï¼š`è°ƒç”¨.search() å’Œè°ƒç”¨.findall()ç»“æœä¸åŒ`
9. `r'(XXX1)?XXX2'`,`?`è¡¨ç¤ºå‰é¢çš„åˆ†ç»„(åˆ†ç»„æ˜¯()å†…çš„)åœ¨æ¨¡å¼ä¸­å¯é€‰çš„(å¯æœ‰å¯æ— çš„)ï¼Œä¾‹ï¼š`r'aa(cc)?dd' å¯ä»¥åŒ¹é…aadd ä¹Ÿå¯ä»¥åŒ¹é…aaccdd` `æ³¨æ„`ï¼šccåªå‡ºç°0æ¬¡/æˆ–è€…1æ¬¡å°±ä¸èƒ½åŒ¹é…åˆ°aaccccdd
10. `r'(XXX1)*XXX2'`,`*`è¡¨ç¤ºå‰é¢çš„åˆ†ç»„(åˆ†ç»„æ˜¯()å†…çš„)åœ¨æ¨¡å¼ä¸­å¯é€‰çš„(å¯æœ‰å¯æ— çš„)ï¼Œä½†å¯ä»¥åŒ¹é…0æ¬¡æˆ–è€…næ¬¡ï¼šä¾‹ï¼š`r'aa(cc)*dd' å¯ä»¥åŒ¹é…aadd ä¹Ÿå¯ä»¥åŒ¹é…aaccddï¼Œä¹Ÿå¯ä»¥åŒ¹é…aaccccdd` 
11. `r'(XXX1)+XXX2'`,`+`è¡¨ç¤ºå‰é¢çš„åˆ†ç»„(åˆ†ç»„æ˜¯()å†…çš„)åœ¨æ¨¡å¼ä¸­å¯é€‰çš„(å¯æœ‰å¯æ— çš„)ï¼Œä½†å¯ä»¥åŒ¹é…1æ¬¡æˆ–è€…næ¬¡ï¼šä¾‹ï¼š`r'aa(cc)*dd' ä¸èƒ½åŒ¹é…aadd å¯ä»¥åŒ¹é…aaccddï¼Œä¹Ÿå¯ä»¥åŒ¹é…aaccccdd` 
12. `r'(XXX1){n}XXX2'`,`{n}`è¡¨ç¤ºå‰é¢çš„åˆ†ç»„(åˆ†ç»„æ˜¯()å†…çš„)åœ¨æ¨¡å¼ä¸­å¯é€‰çš„(å¯æœ‰å¯æ— çš„)ï¼Œä½†åªèƒ½åŒ¹é…næ¬¡ï¼šä¾‹ï¼š`r'aa(cc){1}dd' ä¸èƒ½åŒ¹é…aadd å¯ä»¥åŒ¹é…aaccddï¼Œä¸èƒ½åŒ¹é…aaccccdd` 
13. `r'(XXX1){n,m}XXX2'`,`{n,m}`è¡¨ç¤ºå‰é¢çš„åˆ†ç»„(åˆ†ç»„æ˜¯()å†…çš„)åœ¨æ¨¡å¼ä¸­å¯é€‰çš„(å¯æœ‰å¯æ— çš„)ï¼Œä½†åªèƒ½åŒ¹é…>=næ¬¡and <=mï¼šä¾‹ï¼š`r'aa(cc){1,2}dd' ä¸èƒ½åŒ¹é…aadd å¯ä»¥åŒ¹é…aaccddï¼Œå¯ä»¥åŒ¹é…aaccccdd,ä¸èƒ½åŒ¹é…aaccccccdd` ,å…¶ä¸­mè¦æ˜¯ä¸å¡«å†™çš„ç”»ï¼Œå°±æ˜¯`{n,}`Â åŒ¹é…è‡³å°‘næ¬¡
14. `æ­£åˆ™æ¨¡å¼å¯¹è±¡.findall()` è¿”å›çš„æ˜¯æ‰€æœ‰åŒ¹é…ç»“æœçš„å­—ç¬¦ä¸²åˆ—è¡¨(å’Œresearch()è¿”å›ç»“æœä¸ä¸€æ ·),`è‹¥æ­£åˆ™è¡¨è¾¾å¼ä¸­æœ‰åˆ†ç»„ï¼Œè¿”å›çš„æ˜¯å…ƒç»„çš„åˆ—è¡¨ï¼Œä½¿ç”¨å‰æµ‹è¯•ä¸‹`
15. `é€šé…è®°å¿†ç‚¹` `\d`è¡¨ç¤ºæ‰€æœ‰0-9ä»»ä½•æ•°å­—,`\D`è¡¨ç¤º0-9æ„å¤–æ‰€æœ‰çš„å­—ç¬¦;`\w`è¡¨ç¤ºä»»ä½•å­—æ¯ï¼Œæ•°å­—æˆ–è€…ä¸‹åˆ’çº¿ç­‰å­—ç¬¦ï¼ˆéç©ºç™½å­—ç¬¦),`\W`è¡¨ç¤ºé\w;`\s`è¡¨ç¤ºä»»ä½•ç©ºæ ¼ï¼Œåˆ¶è¡¨ç¬¦æˆ–æ¢è¡Œç¬¦ï¼ˆç©ºç™½å­—ç¬¦),`\S`è¡¨ç¤ºé\s
16. `ç‰¹å®šå­—ç¬¦` `[]`è¡¨ç¤ºå¯ä»¥åŒ¹é…ä¸­æ‹¬å·å†…æƒ³ç‰¹å®šåŒ¹é…çš„å­—ç¬¦é›†åˆ,å¦‚`r[afgie] 'shawafnrebwg'åŒ¹é…è®°è¿‡ä¼šè¿”å›(ç”¨findall()):['a','a','f','e','g']`
17. `åŒºé—´(-)` `[0-9]` è¡¨ç¤º0ï½9å†…æ‰€æœ‰æ•°å­—ï¼Œ`r[0-9a-zA-Z]`è¡¨ç¤ºæ‰€æœ‰æ•°å­—åŠå¤§å°å­—æ¯
18. `éç‰¹å®šå­—ç¬¦` `[^ç‰¹å®šå­—ç¬¦]`è¡¨ç¤º å¦‚ï¼š`r[^0-9a-zA-Z]`è¡¨ç¤ºæ‰€æœ‰éæ•°å­—åŠå¤§å°å­—æ¯;
19. `r'^XXXX'` è¡¨ç¤ºå¿…é¡»ä»¥XXXXå¼€å§‹ ï¼Œå¦‚ï¼š `r'^cc' å¯ä»¥åŒ¹é… â€œccddâ€ ä¸èƒ½åŒ¹é…â€œddccâ€`
20. `r'XXXX$'` è¡¨ç¤ºå¿…é¡»ä»¥XXXXç»“å°¾ ï¼Œå¦‚ï¼š `r'ccÂ¥' ä¸èƒ½åŒ¹é… â€œccddâ€ èƒ½åŒ¹é…â€œddccâ€`
21. `ä»å¤´è‡³å°¾å·´éƒ½æ˜¯æ•°å­—çš„å­—ç¬¦ä¸²åŒ¹é…æ–¹å¼'` `r'^\d+$'`
22. `é€šé…ç¬¦.` `r'.cc'`å¯ä»¥åŒ¹é…"1cc","dcc","ccc"," cc",".cc", '.'æ˜¯å¯ä»¥åŒ¹é…éæ¢è¡Œä¹‹å¤–æ‰€æœ‰çš„
23. `.*æ­é…ä½¿ç”¨` `r'(.*)'`åŒ¹é…æ‰€æœ‰å­—ç¬¦
24. `ä¸åŒºåˆ†å¤§å°å†™çš„åŒ¹é…` `r'cc'`åªèƒ½åŒ¹é…åˆ°cc,è‹¥åŒ¹é…åˆ°cc,cC,CC,Cc  åˆ™åˆ›å»ºåŒ¹é…æ¨¡å¼å¯¹è±¡æ—¶å€™å¢åŠ `re.I`æˆ–è€…`re.IGNORECASE`æ›´æ–°ä¸º`re.compile(r'cc',re.I)` 
25. `.sub()æ–¹æ³•`è¯¥æ–¹æ³•å¯ä»¥å®ç°å°†åŒ¹é…çš„å¯¹è±¡æ›¿æ¢ä¸ºæ–°çš„æ–‡æœ¬ .sub(Par1,Par2),Par1å‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºçš„æ˜¯æ›¿æ¢åæ–°çš„æ–‡æœ¬,Par2å‚æ•°è¡¨ç¤ºçš„æ˜¯æ­£åˆ™åŒ¹é…çš„å­—ç¬¦ä¸²å¯¹è±¡ï¼Œè¿”å›çš„æ˜¯æ›¿æ¢å®Œæˆåçš„å­—ç¬¦ä¸²ç»“æœï¼Œä¹Ÿå°±æ˜¯Par2è¢«æ›¿æ¢æ‰çš„ç»“æœ
26. `å¤æ‚çš„æ­£åˆ™è¡¨è¾¾å¼ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œå¯ä»¥åŠ re.VERBOSE` å¾…è¡¥å……




### åŒ¹é…urlåŒ…å«æŸä¸ªç‰¹å®šå€¼çš„urlï¼Œè¿”å›urlç»“æœ
```python
## éœ€æ±‚ï¼šæ­£åˆ™åŒ¹é…ï¼ŒåŒ¹é…æ—¥æœŸä¸º2018-03-20 çš„æ‰€æœ‰é“¾æ¥
url='https://sycm.taobao.com/bda/tradinganaly/overview/get_summary.json?dateRange=2018-03-20%7C2018-03-20&dateType=recent1&device=1&token=ff25b109b&_=1521595613462'
re_url=re.compile(r'(.*)dateRange=2018-03-20(.*)')
print(re_url.search(url).group(0))##https://sycm.taobao.com/bda/tradinganaly/overview/get_summary.json?dateRange=2018-03-20
print(re_url.search(url).group(1)) ##https://sycm.taobao.com/bda/tradinganaly/overview/get_summary.json?
print(re_url.search(url).group(2)) ##%7C2018-03-20&dateType=recent1&device=1&token=ff25b109b&_=1521595613462


```

### ä»å¤´è‡³å°¾å·´éƒ½æ˜¯æ•°å­—çš„å­—ç¬¦ä¸²åŒ¹é…æ–¹å¼
```python

import re
re_num=re.compile(r'^\d+$')
print(re_num.search('11111')) ##<re.Match object; span=(0, 5), match='11111'>
print(re_num.search('cc1111')) ##None
print(re_num.search('11111cc')) ##None
print(re_num.search('111cc11')) ##None

print(re_num.findall('11111')) #['11111']
print(re_num.findall('cc11111')) #[]
print(re_num.findall('11111cc')) #[]
print(re_num.findall('111cc11')) #[]

```




# æ—¶é—´å¤„ç†

## ä¸¤ä¸ªå¸¸ç”¨æ¨¡å—
**timeï¼Œdatetime,ä¸€èˆ¬timeç”¨äºè·å–unixçºªå…ƒæ—¶é—´æˆ³ï¼Œå¹¶åŠ ä»¥å¤„ç†ï¼Œdatetimeåˆ™ä¸ºç¾åŒ–åçš„æ—¥æœŸæ ¼å¼ ** æ•°æ®åˆ†æå¸¸ç”¨çš„æ˜¯pandasçš„æ—¶é—´æ¨¡å—


### å¸¸ç”¨æ€»ç»“
1. `time.time()` è¿”å›å½“å‰æ—¶åˆ»çš„ç§’æ•°ï¼Œæ—¶é—´æˆ³æ ¼å¼,æµ®ç‚¹å€¼ç±»å‹ï¼Œå› ä¸ºè¿”å›æœ‰å°æ•°ç‚¹å¯ä»¥ç”¨round(time.time())ï¼Œè·å–æ•´å½¢
2. `time.sleep(n)`  ç¨‹åºæš‚åœç±»å‹ï¼Œæš‚å®šnç§’ï¼Œ
3. `datetime.datetime.strptime(str,'%Y-%m-%d %H:%M:%S')` è‹¥æƒ³æŠŠå­—ç¬¦ä¸²ç±»å‹è½¬åŒ–æˆdatetime.datetime ç±»å‹ï¼Œåˆ™å¯ä»¥ä½¿ç”¨è¯¥æ–¹æ³•ï¼Œä½†å¯¹stræœ‰è¦æ±‚ï¼Œ è‹¥str='2020-01-03' æ­£formatæ ¼å¼åº”ä¸º%Y-%m-%dï¼Œæœ¬ä¾‹å­ä¸­strå¿…é¡»æ˜¯str='2011-01-03 12:00:01'
4. `pands.to_datetime()` date_str=['7/6/2011','8/6/2011'] ç”¨è¯¥æ–¹æ³•pd.to_datetime(date_str)ï¼Œè¿”å›DatetimeIndex(['2011-07-06', '2011-08-06'], dtype='datetime64[ns]', freq=None) 


### æ—¶é—´å‡½æ•°è½¬æ¢-æ—¶é—´æˆ³è½¬æ¢
```python

#æ—¶é—´æˆ³è½¬æ¢
import time
print(time.localtime()) ##time.struct_time(tm_year=2021, tm_mon=1, tm_mday=21, tm_hour=20, tm_min=33, tm_sec=4, tm_wday=3, tm_yday=21, tm_isdst=0)
print(time.strftime("%Y-%m-%d %H:%M:%S",time.localtime())) ##2021-01-21 20:33:04
print(time.time()) ##1611232384.067116

now = int(time.time())
print(now) ##1611232474
timeArray = time.localtime(now)
print(timeArray) ##time.struct_time(tm_year=2021, tm_mon=1, tm_mday=21, tm_hour=20, tm_min=34, tm_sec=34, tm_wday=3, tm_yday=21, tm_isdst=0)
print(time.strftime("%Y-%m-%d %H:%M:%S", timeArray)) ## 2021-01-21 20:34:34



## æ—¶é—´è½¬æ¢
import datetime
nowtime=datetime.datetime.now()
print(nowtime) ##2021-01-21 20:31:28.217652
print(nowtime.strftime("%Y-%m-%d %H:%M:%S")) ##2021-01-21 20:31:28
```

###  å…³äºpands.to_datetime(str) çš„ä½¿ç”¨è¯´æ˜
```python
##  è‹¥str=['7/6/2011','8/6/2011'] æˆ–è€…str=['2011-07-06', '2011-08-06'],ä½¿ç”¨pd.to_datetime(str) è¿”å›çš„ç»“æœDatetimeIndex(['2011-07-06', '2011-08-06'] 

## è‹¥str=['2020-02-01 11:20:00', '2020-02-01 11:40:00', '2020-02-02 11:20:00', '2020-02-01 11:20:02','2020-02-01 11:22:00', '2020-02-01 11:30:00'],ä½¿ç”¨pd.to_datetimeï¼Œæ•ˆæœå¦‚ä¸‹

import pandas  as pd
str=['2020-02-01 11:20:00', '2020-02-01 11:40:00', '2020-02-02 11:20:00', '2020-02-01 11:20:02','2020-02-01 11:22:00', '2020-02-01 11:30:00']
print(pd.to_datetime(str))
'''
 è¿”å› DatetimeIndex(['2020-02-01 11:20:00', '2020-02-01 11:40:00',
               '2020-02-02 11:20:00', '2020-02-01 11:20:02',
               '2020-02-01 11:22:00', '2020-02-01 11:30:00'],
              dtype='datetime64[ns]', freq=None)
    '''

print(pd.to_datetime(str,format='%Y-%m-%d'))
'''
è¿”å› DatetimeIndex(['2020-02-01 11:20:00', '2020-02-01 11:40:00',
               '2020-02-02 11:20:00', '2020-02-01 11:20:02',
               '2020-02-01 11:22:00', '2020-02-01 11:30:00'],
              dtype='datetime64[ns]', freq=None)
'''



## ä¹Ÿå°±æ˜¯åŸå§‹stré‡Œåˆ°sçš„ï¼Œä½¿ç”¨to_datetime è‚¯å®šä¹Ÿåˆ°ç§’ï¼Œåªæ˜¯è½¬åŒ–äº†ç±»å‹ï¼Œæ­¤æ—¶è‹¥æƒ³ä»…æå–æ—¥æœŸçš„ç”»ï¼Œåˆ™éœ€è¦æŠŠåŸå§‹stråˆ‡ç‰‡è·å–åˆ°æ—¥çš„strï¼Œå®ç°æ–¹æ¡ˆå¦‚ä¸‹

## è‹¥æ˜¯pandasç›´æ¥æ“çºµï¼Œä¸éœ€è¦pd.Series()   è½¬æ¢ç±»å‹
print(pd.to_datetime(pd.Series(str).str.split(' ',expand=True)[0])) ##è¿”å›yyyy-mm-dd
print(pd.to_datetime(pd.Series(str).str.slice(start=0,stop=10)))##è¿”å›yyyy-mm-dd

## æ–¹æ¡ˆ2

str_split=[i.split(' ')[0] for i in str]
print(pd.to_datetime(str_split))##è¿”å›yyyy-mm-dd
print(pd.to_datetime(str_split,format='%Y-%m-%d'))##è¿”å›yyyy-mm-dd



```